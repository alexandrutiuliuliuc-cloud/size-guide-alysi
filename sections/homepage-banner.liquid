<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

{{ 'homepage-banner.css' | asset_url | stylesheet_tag }}
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

{% if section.blocks != blank %}
    <div class="homepage__banner homepage__banner--2" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="1000">
        <div class="swiper mySwiper">
          <div class="swiper-wrapper">
            {% for block in section.blocks %}
                <div class="swiper-slide">
                    <div class="homepage__slider__content">
                        <div class="homepage__slider__left">
                            <div class="homepage__slider__main-image">
                                <a href="{{ block.settings.block_link }}">
                                    <img class="lazyload" src="{{ block.settings.image_1.src | img_url: '1920x' }}" alt="{{ block.settings.title }}" />
                                </a>
                            </div>
                            <div class="homepage__slider__text">
                                <div class="homepage__slider__title">
                                    <h3>{{ block.settings.title }}</h3>
                                </div>
                                {%  if block.settings.block_text != blank %}
                                <div class="homepage__slider__description">
                                    {{ block.settings.block_text }}
                                </div>
                                {% endif %}
                                {% if block.settings.block_link != blank %}
                                    <div class="homepage__slider__link">
                                        <a href="{{ block.settings.block_link }}">{{ block.settings.block_label_link }}</a>
                                    </div>
                                {% endif %}
                            </div>
                        </div>

                        <div class="homepage__slider__right">
                            <div data-la-dn-product-handle="{{ all_products[block.settings.product_1].handle }}" class="homepage__slider__product homepage__slider__product--1">
                                {% if block.settings.image_2 != blank %}
                                    <div class="homepage__slider__product__img la-dn-collection-badge">
                                        <img class="lazyload" src="{{ block.settings.image_2.src | img_url: '1920x' }}" alt="{{ block.settings.title }}" />
                                    </div>
                                {% endif %}

                                {% if block.settings.product_1 != blank %}
                                    <div class="homepage__slider__product__info">
                                        <a href="{{ all_products[block.settings.product_1].url }}">
                                            <div class="homepage__slider__product__title">
                                                {{ all_products[block.settings.product_1].title }}
                                            </div>
                                            <div class="homepage__slider__product__price" data-la-dn-price>
                                                {%- assign variant = all_products[block.settings.product_1].selected_or_first_available_variant -%}

                                                {% if variant.price < variant.compare_at_price and variant.available %}
                                                <span class="was_price">
                                                    <span class="money">{{ variant.compare_at_price | money }}</span>
                                                </span>
                                                {% endif %}

                                                <span itemprop="price" content="{{ variant.price | money_without_currency | remove: "," }}" class="{% if variant.compare_at_price > variant.price %}sale{% endif %} price">
                                                    <span class="product-page__current_price {% if product.available == false %}hidden{% endif %}">
                                                    {% if variant.price > 0 %}
                                                        <span class="money">{{ variant.price | money }}</span>
                                                    {% endif %}
                                                    </span>
                                                </span>
                                            </div>
                                        </a>
                                    </div>
                                {% endif %}
                            </div>

                            <div class="homepage__slider__product homepage__slider__product--2" data-la-dn-product-handle="{{ all_products[block.settings.product_1].handle }}">
                                {% if block.settings.image_3 != blank %}
                                    <div class="homepage__slider__product__img la-dn-collection-badge">
                                        <img class="lazyload" src="{{ block.settings.image_3.src | img_url: '1920x' }}" alt="{{ block.settings.title }}" />
                                    </div>
                                {% endif %}

                                {% if block.settings.product_2 != blank %}
                                    <div class="homepage__slider__product__info">
                                        <a href="{{ all_products[block.settings.product_2].url }}">
                                            <div class="homepage__slider__product__title">
                                                {{ all_products[block.settings.product_2].title }}
                                            </div>
                                            <div class="homepage__slider__product__price" data-la-dn-price>
                                                {%- assign variant = all_products[block.settings.product_2].selected_or_first_available_variant -%}

                                                {% if variant.price < variant.compare_at_price and variant.available %}
                                                <span class="was_price">
                                                    <span class="money">{{ variant.compare_at_price | money }}</span>
                                                </span>
                                                {% endif %}

                                                <span itemprop="price" content="{{ variant.price | money_without_currency | remove: "," }}" class="{% if variant.compare_at_price > variant.price %}sale{% endif %} price">
                                                    <span class="product-page__current_price {% if product.available == false %}hidden{% endif %}">
                                                    {% if variant.price > 0 %}
                                                        <span class="money">{{ variant.price | money }}</span>
                                                    {% endif %}
                                                    </span>
                                                </span>
                                            </div>
                                        </a>
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
          </div>
        </div>
      <div class="swiper-button-next home-next"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 306.4 200.62"><title>icone_svgRisorsa 2</title><g data-name="Livello 2"><g data-name="Livello 1"><path d="M305.3,97.62,208.8,1.12a3.82,3.82,0,0,0-5.4,5.4l89.9,89.9H3.9a3.9,3.9,0,0,0,0,7.8H293.3l-89.9,89.9a3.8,3.8,0,0,0,0,5.4,3.62,3.62,0,0,0,2.7,1.1,3.86,3.86,0,0,0,2.7-1.1L305.3,103a3.62,3.62,0,0,0,1.1-2.7A3.86,3.86,0,0,0,305.3,97.62Z"></path></g></g></svg></div>
      <div class="swiper-button-prev home-prev"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240.5 158.4"><title>icone_svgRisorsa 1</title><g data-name="Livello 2"><g data-name="Livello 1"><path d="M239.3,76.3,164.2,1.2a4,4,0,0,0-5.7,0,4,4,0,0,0,0,5.7l68.3,68.3H4a4,4,0,0,0,0,8H226.9l-68.3,68.3a4,4,0,1,0,5.6,5.7l75.1-75.1a4,4,0,0,0,1.2-2.8A4.41,4.41,0,0,0,239.3,76.3Z"></path></g></g></svg></div>
    </div>
{% endif %}
<style>
  p.not-header {
    position:relative;
    z-index:100;
    text-align:center;
    margin-bottom:60px;
  }
  p.not-header a {
    font-weight:400;
    font-size:24px;
    text-decoration:underline;
    text-decoration-thickness:2px;
  }
  @media (max-width: 480px) {
    p.not-header {
      margin-bottom:50px;
    }
    p.not-header a {
    	font-size:18px;
    }
  }

  <style>
  /* Altri stili CSS esistenti... */
  @media (max-width: 480px) {
    .homepage__slider__product__info {
        padding-top: 15px; /* Aumenta lo spazio sopra il contenuto del prodotto */
    }
  }
</style>

</style>

<p class="not-header" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="1000">
  {%- comment -%} <a href="/collections/shop">CONTINUA LO SHOPPING</a> {%- endcomment -%} 
</p>

<script>
    var swiper = new Swiper(".mySwiper", {
      navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
      },
    });
</script>

{% schema %}
{
    "name": "Homepage Banner",
    "settings": [],   
    "blocks":[
        {
         "type":"Block",
         "name": "block",      
         "settings": [
            {
                "type": "header",
                "content": "Left"
            },             
            {
                "type":"image_picker",
                "id":"image_1",
                "label": "Image"
            },
            {
                "type":"text",
                "id":"title",
                "label": "Block Title"
            },
            {
                "type":"textarea",
                "id":"block_text",
                "label": "Block Banner"
            },
            {
                "type":"url",
                "id":"block_link",
                "label": "Block Link"
            },
            {
                "type":"text",
                "id":"block_label_link",
                "label": "Block Label Link"
            },
            {
                "type": "header",
                "content": "Right"
            },             
            {
                "type":"image_picker",
                "id":"image_2",
                "label": "Image 1 Right"
            },
            {
                "type":"product",
                "id":"product_1",
                "label": "Product 1 Right"
            },                    
            {
                "type":"image_picker",
                "id":"image_3",
                "label": "Image 2 Right"
            },
            {
                "type":"product",
                "id":"product_2",
                "label": "Product 2 Right"
            }
        ]
      }
    ],
    "presets": [
      {
        "name": "Homepage Banner"
      }
    ]
}
{% endschema %} 